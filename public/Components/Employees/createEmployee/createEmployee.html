<style>
    .ng-invalid {
    border-color: red;
    outline-color: red;
    }

    .ng-valid {
        border-color: green;
        outline-color: green;
    }

    .messages {
    font-size: smaller;
    padding-top: 5px;
    padding-bottom: 10px;
    color: red;
    }

    #personaldetails{
        width: 80%;
    }

</style>
<div>
    <form name="employee" novalidate class="tab-form">
        <uib-tabset active="activeForm">
            <uib-tab index="0" heading="Personal Details"><br>
                <div id="personaldetails">
                    <ng-form name="personal" novalidate >
                        <div class="row">
                            <div class=col-sm-6>
                                <div class="form-group" ng-class="{ 'has-error' : employee.personal.firstname.$invalid && (!employee.personal.firstname.$pristine || employee.personal.firstname.$touched) }">
                                    <label>First Name*</label>
                                    <input type="text" name="firstname" class="form-control" ng-model="user.firstname" required>
                                    <p ng-show="employee.personal.firstname.$invalid && (!employee.personal.firstname.$pristine || employee.personal.firstname.$touched)" class="help-block">You first name is required.</p>
                                </div>
                            </div>
                            <div class=col-sm-6>
                                <div class="form-group" ng-class="{ 'has-error' : employee.personal.lastname.$invalid && (!employee.personal.lastname.$pristine || employee.personal.firstname.$touched) }">
                                    <label>Last Name*</label>
                                    <input type="text" name="lastname" class="form-control" ng-model="user.lastname" required>
                                    <p ng-show="employee.personal.lastname.$invalid && (!employee.personal.lastname.$pristine || employee.personal.lastname.$touched)" class="help-block">You last name is required.</p>
                                </div>
                            </div>
                        </div>
            
                        <div class="form-group" ng-class="{'has-error': employee.personal.phone.$error.number}">
                            <label>Contact No: </label>
                            
                            <input type="number" class="form-control" ng-minlength="10" ng-maxlength="10"  id="inputPhone" name="phone" placeholder="Phone" ng-model="user.phone" ng-required="true">
                            <span class="help-block" 
                                    ng-show="employee.personal.phone.$error.required ||  employee.personal.phone.$error.number">Valid phone number is required
                            </span>
                            <span class="help-block" style="color:chocolate"
                                    ng-show="((employee.personal.phone.$error.minlength || employee.personal.phone.$error.maxlength) && employee.personal.phone.$dirty) "> phone number should be 10 digits
                            </span>
                            
                        </div>
            
            
                        <div class="form-group has-feedback">
                            <label>Username</label>
                            <input type="text" name="username" placeholder="enter a valid username" class="form-control" ng-model="user.username" ng-required="user.username" username>
                            <div ng-show="employee.personal.username.$pending.username" style="color: blue">
                                <span class="glyphicon glyphicon-time"></span>Checking
                            </div>
                            <div ng-show="employee.personal.username.$error.username" class="alert alert-danger" role="alert">
                                <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                                <span class="sr-only">Error:</span>
                                This username is already taken!
                            </div>
                            <div ng-show="employee.personal.username.$valid && employee.personal.username.$dirty ">
                                <span class="form-control-feedback glyphicon glyphicon-ok" style="color: green"></span>
                            </div>
                                
                                <!-- <p ng-show="employee.personal.username.$error.minlength" class="help-block">Username is too short.</p>
                                <p ng-show="employee.personal.username.$error.maxlength" class="help-block">Username is too long.</p> -->
                        </div>
                        <div class="row">
                            
                                <!-- <div class="col-sm-6">
                                    <div class="form-group" ng-class="{'has-error': employee.personal.password.$invalid && employee.personal.password.$touched,'has-success':employee.personal.password.$valid && employee.personal.password.$dirty}">
                                        <label>Set Password</label>
                                        <div class="inner-addon right-addon">
                                            <i class="glyphicon glyphicon-ok green" ng-if="employee.personal.password.$valid && employee.personal.password.$dirty"></i>
                                            <i class="glyphicon glyphicon-remove red" ng-if="employee.personal.password.$invalid && employee.personal.password.$touched "></i>
                                            <input type="text" class="form-control" name="password" ng-model="password" ng-required="true" ng-pattern="passRegex">
                                        </div>
                                        <span ng-show="employee.personal.password.$invalid && employee.personal.password.$touched " class="help-block">
                                            Password should be: 
                                                ->8 characters long contain
                                                ->at least one uppercase letter
                                                ->at least one lower case letter
                                                ->contain at least one number or punctuation character  
                                        </span>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group" ng-class="{'has-error': employee.personal.confirm_password.$invalid && employee.personal.confirm_password.$touched,'has-success':employee.personal.confirm_password.$valid && employee.personal.confirm_password.$dirty}">
                                        <label>Confirm Password</label>
                                        <div class="inner-addon right-addon">
                                            <i class="glyphicon glyphicon-ok green" ng-if="employee.personal.confirm_password.$valid && employee.personal.confirm_password.$dirty"></i>
                                            <i class="glyphicon glyphicon-remove red" ng-if="employee.personal.confirm_password.$invalid && employee.personal.confirm_password.$touched "></i>
                                            <input type="password" class="form-control" name="confirm_password" ng-model="confirm_password" ng-required="true" ng-pattern="passRegex">
                                        </div>
                                        <span ng-show="employee.personal.confirm_password.$invalid && employee.personal.confirm_password.$touched " class="help-block">Password do not match</span>
                                    </div>
                                </div> -->
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label>Password</label>
                                    <input type="password" name="password" class="form-control" ng-model="user.password" required />
                                    <div style="color: red" ng-show="employee.personal.password.$error.required && employee.personal.password.$touched" class="help-block">Required!</div>
                                </div>
                                        
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label>Confirm Password</label>
                                    <input type="password" name="confirmPassword" class="form-control" 
                                            ng-model="user.confirmPassword" 
                                            required compare-to="user.password" />
                                    <div style="color: red" ng-show="employee.personal.confirmPassword.$error.required && employee.personal.confirmPassword.$touched" class="help-block">Required!</div>
                                    <div style="color: red" ng-show="employee.personal.confirmPassword.$error.compareTo" class="help-block">Passwords do not match</div>
                                </div>
                            </div>
                                        
                        </div>
                        <div class="form-group">
                            <div class="form-group" ng-class="{ 'has-error' : employee.personal.permAddress.$invalid && (!employee.personal.permAddress.$pristine || employee.personal.permAddress.$touched) }">
                                <label>Permanent Address</label>
                                <input type="text" name="permAddress" class="form-control" ng-model="user.permAddress" required>
                                <p ng-show="employee.personal.permAddress.$invalid && (!employee.personal.permAddress.$pristine || employee.personal.permAddress.$touched)" class="help-block">Permanent Address required.</p>
                            </div>
                            <div class="form-group" ng-class="{ 'has-error' : employee.personal.permAddcity.$invalid && (!employee.personal.permAddcity.$pristine || employee.personal.permAddcity.$touched) }">
                                <label for="cities">City</label>
                                <input name="permAddcity" id="cities" type="text" placeholder="enter a city" ng-model="user.permselected_city"  uib-typeahead="city for city in cities | filter: employee.personal.permAddcity.$viewValue | limitTo:8" typeahead-no-results="noResults" class="form-control">
                                <p ng-show="employee.personal.permAddcity.$invalid && !employee.personal.permAddcity.$pristine" class="help-block">Enter City</p>
                            </div>
                        </div>
                        <label>Current Address is</label>
                        
                        <div class="dropdown">
                            <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Choose
                            <span class="caret"></span>
                            </button>
                            
                            <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="single-button">
                            <li role="menuitem"><a class="button" value="default" ng-click="address()">Same as Permanent Address</a></li>
                            <li role="menuitem"><a class="button" ng-click="sameCurr= false">Different</a></li>
                            </ul>
                        </div>
                        <br>
                        <div class="form-group" ng-if="sameCurr!=true">
                            <div class="form-group" ng-class="{ 'has-error' : employee.personal.currAddress.$invalid && (!employee.personal.currAddress.$pristine || employee.personal.currAddress.$touched) }">
                                <label>Current Address</label>
                                <input type="text" name="currAddress" class="form-control" ng-model="user.currAddress" required>
                                <p ng-show="employee.personal.currAddress.$invalid && (!employee.personal.currAddress.$pristine || employee.personal.currAddress.$touched)" class="help-block">Current Address required.</p>
                            </div>
                            <label for="cities">City</label>
                            <input name="currAddcity" id="cities" type="text" placeholder="enter a city" ng-model="user.currselected_city" uib-typeahead="city for city in cities | filter: employee.personal.permAddcity.$viewValue | limitTo:8" typeahead-no-results="noResults" class="form-control">
                            <p ng-show="employee.personal.permAddcity.$invalid && !employee.personal.permAddcity.$pristine" class="help-block">Enter City</p>
                        </div>
        
                            
                
                        <div class="form-group">
                            <label>Email Id</label>
                            <input type="email" class="form-control" ng-pattern="/^[_a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9]+(\.[a-z0-9]+)*(\.[a-z]{3,5})$/" ng-model="user.email" name="email" ng-required="true">
                            <div ng-show="employee.personal.email.$pending" style="color: blue">
                                <span class="glyphicon glyphicon-time"></span>Checking
                            </div>
                            <!-- <div uib-alert class="alert-danger" ng-messages="employee.personal.email.$error" ng-if="employee.personal.email.$invalid && employee.personal.email.$touched">
                                <p ng-message="email">
                                    Please enter a valid Email!
                                </p>
                                <p ng-message="required">Enter Email!</p>
                            </div> -->
                            <div ng-show="employee.personal.email.$error.email" class="alert alert-danger" role="alert">
                                <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                                <span class="error">Error:</span>
                                Enter valid email
                            </div>
                            <div ng-show="employee.personal.email.$valid && employee.personal.email.$dirty && !employee.personal.email.$error ">
                                <span class="form-control-feedback glyphicon glyphicon-ok" style="color: green"></span>
                            </div>
                        </div>
                                <!-- <button type="button" ng-show="!assignDesignation" class="btn btn-primary" ng-click="assignDesignation= true" ng-disabled="employee.personal.$invalid">Assign Designation</button> -->
                    
                    </ng-form>
                </div>
            </uib-tab>
            <uib-tab index="1" heading="Job Details">
                <ng-form name="jobdetails">
                    
                    <div class="row">
                        <div class="col-sm-2">
                            <h5><label>Select shift:</label></h5>
                        </div>
                        <div class="col-sm-7">
                            <div class="btn-group" uib-dropdown is-open="status.isopen">
                                <button id="single-button" type="button" class="btn btn-primary" uib-dropdown-toggle ng-disabled="disabled">{{selectedShift}}
                                        <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="single-button">
                                    <li role="menuitem"  ng-repeat="shift in shifts"><button ng-click="toggleShift(shift)">{{shift.name}}( {{shift.starttime | date: "hh:mm"}} - {{shift.endtime | date: "hh:mm"}})</button></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                            <div class="col-sm-12">
                                <view-designation inemployee='true'></view-designation>
                            </div>
                    </div>
                </ng-form>
            </uib-tab>
        </uib-tabset>
    
            
        <div style="float: left" class="row">
            <div class="col-sm-12">
                <button type="button" class="btn btn-primary" ng-click="submit(employee)" ng-disabled="employee.$invalid">Create Employee</button>
            </div>
        </div>
    </form>
</div>